pipeline {
libraries{
lib 'shlib'
}

 agent any
   tools{
        maven "Maven"
    }
    stages {
    stage('gitlab project remove')
    {
    steps
    {
    branchrmvgitlab()
    }
    }
    stage('Create Job'){
	steps{
		createjobjson()
 
	}
    stage('gitlab project remove')
    {
    steps
    {
    removegitlab()
    }
    }
    stage('gitlab branch')
    {
    steps
    {
    gitlabbranch()
    }
    }
    
    
    stage('git repolist')
    {
    steps
    {
    gitrepolist()
    log_github("collected repo list succesfully")
    }
    post{
    failure{
    log_github("repo list is not collected")
    }}}
   stage('git repo')
    {
    steps
    {
    gitrepo()
    log_github("created  succesfully")
    }
    post{
    failure{
    log_github("not created")
    }}}
    
    
    
    stage('git branch list')
    {
    steps
    {
    gitbranchlist()
    }
    }
     stage('git branch')
    {
    steps
    {
    gitbranch()
    }
    }
    
    stage('gitlab repolist ')
    {
    steps
    {
    gitlabrepolist()
    log_gitlab("collected project list succesfully")
    }
    post{
    failure{
    log_gitlab("project list is not collected")
    }}}
    
    
    
    stage('gitlab repo')
    {
    steps
    {
    createrepogitlab()
     log_gitlab("created succesfully")
    }
    post{
    failure{
    log_gitlab("project list is not collected")
    }}}
    
    
    stage('gitlab branch list')
    {
    steps
    {
    gitlabbranchlist()
    }
    }
    
    
}
}

